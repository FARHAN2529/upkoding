{% extends 'projects/base.html' %}

{% load base %}
{% load markdownify %}
{% load projects %}

{% block meta %}{% meta object=object %}{% endblock %}

{% block content %}
<div class="project-detail">
    {% include 'projects/_project_header.html' with project=object user_project=None %}

    <div class="row mt-5 content">

        {% with codeblock=object.codeblock %}
        <div class="col col-12 col-lg-8">
            {% include 'base/_messages.html' with closable=True %}
            
            {% if not codeblock %}
            <h3 class="section-title mb-3"><i class="bi bi-list-task me-2"></i>Requirements</h3>
            <div class="mb-5">
                {% render_requirements object %}
            </div>
            {% endif %}

            <div>
                <div class="card shadow-sm">
                    <div class="card-body">
                        {% include 'projects/_project_images.html' with images=project.images.all %}

                        <p class="lead mb-4" style="font-size: 18px; color: rgba(0, 0, 0, 0.7); font-weight: 300;">
                            {{ object.description_short }}
                        </p>
                        {{ object.description|markdownify }}
                    </div>
                </div>
            </div>

            {% if codeblock %}
            {% render_codeblock_readonly object %}
            {% endif %}

        </div>
        {% endwith %}

        <div class="col col-12 col-lg-4 ps-lg-4">
            {% include 'projects/_project_stats.html' %}

            <h3 class="section-title mb-3 mt-5">Sedang Mengerjakan</h3>
            {% render_inprogress_projects object %}
            <h3 class="section-title mt-5 mb-3">Berhasil Menyelesaikan ({{ object.completed_count }})</h3>
            {% render_completed_projects object %}
            <h3 class="section-title mt-5 mb-3">Tags</h3>
            {% render_tags object 'secondary' %}
        </div>
    </div>
</div>
{% endblock %}